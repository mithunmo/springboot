var basicConfig={debugMode:!1,writeLogToConsole:!1,disableRightClick:!1},errorStyle="color:#FF0000",usernameValue="Please enter your valid email for your username",passwordValue="Please enter your password";$(document).on("click",".button",function(a){if("disabled"==$(this).attr("disabled")||"true"==$(this).attr("disabled")||"true"==$(this).attr("button-disabled"))logging("disable button event hooked!"),a.stopImmediatePropagation()});$(document).on("click",".checkbox",function(a){("disabled"==$(this).attr("disabled")||"true"==$(this).attr("disabled")||"true"==$(this).attr("button-disabled"))&&a.stopImmediatePropagation()});$(document).ready(function(){$(document).on("click","#save",function(){$(".label").removeAttr("style");var a=checkInput(),b=$("#form_terms");0<a.length?buildPopupMsg({content:"Please complete the following required fields:<br/>"+a.join("<br/>")}):!1==b.val()||!1==$("#regCheck").data("checked")||void 0==$("#regCheck").data("checked")?($(".label").removeAttr("style"),buildPopupMsg({content:"Please accept Terms and Conditions by checking the checkbox. Thank you."})):submitRegForm()});$(document).on("click","#cancel",function(){logging("cancel");$("form")[0].reset();$("#user_logo img").attr("src","/images/avatar_default.jpg");$("#form_logo_image_url").val("/images/avatar_default.jpg");$("#usernameChecked").removeClass("invalid").addClass("hide")});$(document).on("click","#register",function(){logging("ok");location.assign(loginPage)});$("#read_terms").click(function(){displayLatestTermAndConditions(ResgistrationTermsPath)});$("#membership_ok").click(function(){closePopup()});$(document).on("click",".reg_success_ok",function(){$("#popupContainer").fadeOut("fast",function(){});$(".popup .notification").css("display","none");$("#popupContainer").removeAttr("style");isOpened=!1;location.assign(loginPage)});$(document).on("click","#terms_ok",function(){logging("click OK in terms");if("checked"==$("#terms_agree").attr("checked")){var a=$('input[name="termsId"]').val();closePopup();$("#form_terms").val(!0);$("#form_accepted_termsId").val(a);$("#regCheck").addClass("checked");$("#regCheck").data("checked",!0)}else"checked"==$("#terms_decline").attr("checked")?(closePopup(),$("#form_terms").val(!1),$("#regCheck").removeClass("checked"),$("#regCheck").data("checked",!1)):closePopup()});$(document).on("click","#pay",function(){logging("Pay click")});$(document).on("click","#upload_image",function(){logging("Upload Image");buildUploadPopup({url:uploadPicturesPath,mode:"LOGO",filetype:"ai",previewArea:"user_logo"})});$(document).on("upload_finished","body",function(a){$("#form_logo_image_url").val("/400x400/"+a.filename_400);$("#user_logo").html('<i></i><img src="/400x400/'+a.filename_400+'" />')});$("#form_terms").attr("disabled","disabled");$("#livechat").bind("click",function(){buildPopupMsg({content:'<div style="color:#0000CC; font-size:16px; width:100%; text-align:center;">We are implementing our live chat module, please call us at 1-800-550-0802.</div>',showOk:!0,title:"Live Chat"})});$(document).on("keydown","input[type=password]",function(a){if(32==a.which)return!1});$(document).on("keyup","#newPwd",function(){$("#reset_password #result").html(checkStrength($("#newPwd").val(),"#reset_password #result"))});$(document).on("keyup","#resetPassword",function(){$("#setupSeqPasswordFormPanel #result").html(checkStrength($("#resetPassword").val(),"#setupSeqPasswordFormPanel #result"))});$(document).on("keyup","#form_password",function(a){32!=a.which&&(a=checkStrength($("#form_password").val()),$("#result").html(a),$("#tppwdresult").html(a),$("#form_confirm").trigger("keyup"))});$("#form_website").change(function(){/^http:\/\//.test(this.value)||(this.value="http://"+this.value)});$(document).on("submit","#form_membership_payment",function(){$("#form_membership_payment").prop("disabled",!0);$("#membership_payment").prop("disabled",!0);$("#paynowMask").css("z-index","10")});$(document).on("keyup",".phoneChecking",function(){});$(document).on("change","#temp_password_noused",function(){!0==this.checked?($("#form_ans_q1").val("Temp"),$("#form_ans_q1").attr("readonly","true"),$("#form_ans_q2").val("Temp"),$("#form_ans_q2").attr("readonly","true")):($("#form_ans_q1").val(""),$("#form_ans_q1").removeAttr("readonly"),$("#form_ans_q2").val(""),$("#form_ans_q2").removeAttr("readonly"))});$("#temp_password_noused").trigger("change");$(document).on("click",".invitationOnly",function(){buildPopup({url:invitationFormPath})});$(document).on("click","#submitSeqPassword",function(){submitSeqPasswordForm()});$("#submit").click(function(){browserChecking()&&!0==checkUserInput()&&doLogin()});$(document).on("keydown","#username, #password, #remember",function(a){13==a.which&&browserChecking()&&!0==checkUserInput()&&doLogin()});$(document).on("click","#showLogin",function(){$("#loginPanel").css("display","block");var a=getCookie("RememberMef4g");""!=a?($("#username").val(a),$("#remember").attr("checked","checked")):$("#remember").removeAttr("checked");setFocus()});$(document).on("click","#loginPanel .overlay",function(){$("#loginPanel").css("display","none")});$(document).on("click","#closeLoginPanel a",function(){$("#loginPanel").css("display","none")});$(document).on("keyup","#form_username",function(){""!==$(this).val().replace(/ /g,"")&&-1!=$(this).val().search(/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,6}$/)?$.ajax({url:usernameCheckPath+"?username="+$(this).val(),type:"GET",beforeSend:function(){$("#usernameChecked").addClass("loading")},success:function(a){$("#usernameChecked").removeClass("loading");$("#usernameChecked").removeClass("hide");!0===a.isAvailable?($("#usernameChecked").removeClass("invalid"),$(".username-check-result").removeClass("hide").addClass("hide")):($("#usernameChecked").removeClass("invalid").addClass("invalid"),$(".username-check-result").removeClass("hide"),$("#usernameCheckedMsg").css("color","#C30").html("The email you provided is already being used"))},error:function(){$("#usernameChecked").removeClass("loading");$("#usernameChecked").html("checking..")}}):($(".username-check-result").removeClass("hide"),$("#usernameCheckedMsg").css("color","#C30").html("Invalid email address"))});$(document).on("click","#regCheck",function(){void 0==$(this).data("checked")||!1==$(this).data("checked")?($(this).addClass("checked"),$("#regCheck").data("checked",!0),$("#form_terms").val(!0)):($(this).removeClass("checked"),$("#regCheck").data("checked",!1),$("#form_terms").val(!1))});$(document).on("keyup","#regCheck",function(a){32==a.which&&$(this).trigger("click")});$(document).on("click","#terms_ok_login",function(){logging("vbf");logging($("#terms_lg").action);"checked"==$("#terms_agree_login").attr("checked")?$("#terms_lg").submit():closePopup()});$(".tip-left").qtip({position:{my:"top left",at:"bottom right",adjust:{screen:!0,mouse:!1}},style:{classes:"qtip-light qtip-shadow"},show:{event:"click focus"},hide:{event:"unfocus"}});$(".tip-right").qtip({position:{my:"top right",at:"bottom left",adjust:{screen:!0,mouse:!1}},style:{classes:"qtip-light qtip-shadow"},show:{event:"click focus"},hide:{event:"unfocus"}});$(document).on("keydown",".tip-left,.tip-right,.tip-pwd",function(a){9==a.which&&$(this).trigger("unfocus")});$("#link_forget").click(function(){buildPopup({url:forgotPwdUrl})});$(document).on("click","#gotoSecurity",function(){loadSecurityPanel()});$(document).on("click","#gotoResult",function(){submitSequrityQuestions()});$(document).on("click","#resetPwd",function(){resetPassword()});$(document).on("click","#close",function(){closePopup()});$(document).on("keydown","#email",function(a){13==a.which&&loadSecurityPanel()});$(document).on("keydown","#q1_ans",function(a){13==a.which&&submitSequrityQuestions()});$(document).on("keydown","#q2_ans",function(a){13==a.which&&submitSequrityQuestions()});$(document).on("keydown","#confirmPwd",function(a){13==a.which&&resetPassword()});$(document).on("keydown","#close",function(a){13==a.which&&(logging("close"),closePopup())});$(document).on("click","#showContactInfo",function(){buildPopupMsg({content:'<img src="/images/splash/contact_info.png"/>',title:"CONTACT INFO",showOk:!0,closeByOverlay:!0,effect:!0})})});function showCompRegMsg(a,b,c){var d;d='<div class="popup"><div class="header">';d=void 0==c||""==c?d+"Error":d+c;d+='<div class="error_close">X</div>';d+="</div>";d+='<div class="content" id="error">';d+='<div id="errorContent">';d+=a;d+="</div>";d+='<div class="buttonPanel" style="width:85%">';!0==b&&(d+='<div class="button reg_success_ok" id="reg_success_ok">Ok</div>');d+="</div>";d+="</div>";logging("Error DIV=>"+$("#error").length);0>=$("#error").length&&$("body").append('<div class="popupContainer" id="error"></div>');$("#error").html(d);0>=$("#error_overlay").length&&$("body").append('<div class="overlay" id="error_overlay"></div>');$.browser.msie&&("8.0"==$.browser.version||"7.0"==$.browser.version)&&$("#error_overlay").css("filter","alpha(opacity=70)");$("#error_overlay").fadeIn();showPopup({container:"#error"})}function displayLatestTermAndConditions(a){buildPopup({url:a},function(){$("#termScrollbar").tinyscrollbar();$(".anchor").each(function(a){$(".rightArea .block:nth-child("+(a+1)+")").animate({top:$(this).position().top})})})}function displayMembership(a){$.ajax({url:a,type:"GET",beforeSend:function(){logging("loading "+a);$.browser.msie&&("8.0"==$.browser.version||"7.0"==$.browser.version)&&$("#overlay").css("filter","alpha(opacity=70)");$("#overlay").fadeIn("fast")},error:function(a,c,d){logging(this.url+" is "+d);$("#overlay").fadeOut("fast")},success:function(a){logging("loading "+this.url+"complete");$("#popupContainer").html(a);$("#terms_ok").css({"background-color":"#333",cursor:"default"});showPopup()}})}function submitRegForm(){logging("designer=>"+$("#form_reg_designer").length);logging("company=>"+$("#form_reg_company").length);var a=new Date,b,c;0<$("#form_reg_designer").length?(b=$("#form_reg_designer").attr("action"),c=$("#form_reg_designer").serialize()):0<$("#form_reg_company").length&&(b=$("#form_reg_company").attr("action"),c=$("#form_reg_company").serialize());var d=$("#form_first_name").val(),f=$("#form_last_name").val(),j=$("#comp").val();$.ajax({url:b,type:"POST",data:c+"&timezoneOffset="+a.getTimezoneOffset(),beforeSend:function(){logging("loading "+b);$.browser.msie&&("8.0"==$.browser.version||"7.0"==$.browser.version)&&$("#overlay").css("filter","alpha(opacity=70)");buildPopupMsg({content:'<span style="color:blue;">Please wait...<span><br /><img src="/images/spinner_small.gif" style="margin-top:30px;"/>',title:"Please Wait",showOk:!1,closeByOverlay:!1,effect:!1})},error:function(a,b,d){logging(this.url+" is "+d);$("#overlay").fadeOut("fast")},success:function(a){logging("loading "+this.url+" complete");if(a&&a.hasError&&!0==a.hasError){var b=[];$(".label").removeAttr("style");for(var c=0;c<a.errors.length;c++)b.push(a.errors[c].defaultMessage),logging("Error field=>"+a.errors[c].field);highlightErrorFields(a);$("#overlay").fadeOut("fast");buildPopupMsg({content:"Please enter data in the mandatory fields as highlighted in the screen and also displayed in the list:<br/>"+b.join("<br/>"),showOk:!0})}else{var h;j?(_gaq.push(["_trackEvent","registration","registered successfully","company: "+$("#form_username").val(),a.userId]),showCompRegMsg("Thanks for registering, we will get back to you shortly.",!0,"Registration ",null)):($("#designer_name").text(d+" "+f),logging("Register Success UserId="+a.userId),logging(a),void 0!=a.userId?($("#reg_userid").val(a.userId),_gaq.push(["_set","hitCallback",function(){clearTimeout(h);location.assign(submitSamplesPath+"?userId="+a.userId)}]),_gaq.push(["_trackEvent","registration","registered successfully","designer: "+$("#form_username").val(),a.userId]),h=setTimeout(function(){location.assign(submitSamplesPath+"?userId="+a.userId)},1e3)):buildPopupMsg({content:"One of our back end system is currently unavailable. Please contact us. <br /> Thank you.",showOk:!0}))}}})}function checkInput(){var a=[];-1!=location.pathname.search("designer")?(a=CheckforNullandSpace("#form_username",a,"#label_username","Please enter E-mail ID"),a=CheckforNull("#form_password",a,"#label_password","Please enter Password"),a=CheckforContainSpace("#form_password",a,"#label_password","Please check that there are no spaces in Password"),a=CheckforNull("#form_confirm",a,"#label_confirm","Please enter Confirm Password"),a=CheckforContainSpace("#form_confirm",a,"#label_confirm","Please check that there are no spaces in Confirm Password"),$("#form_password").val()!=$("#form_confirm").val()&&(a.push("Password and Confirm Password must be the same"),$("#label_password").attr("style",errorStyle),$("#label_confirm").attr("style",errorStyle)),a=CheckforNull("#form_first_name",a,"#label_firstname","Please enter First Name"),a=CheckforNull("#form_last_name",a,"#label_lastname","Please enter Last Name")):(a=CheckforNullandSpace("#form_username",a,"#label_username","Please enter Username"),a=CheckforNullandSpace("#form_password",a,"#label_password","Please enter Password"),a=CheckforNullandSpace("#form_confirm",a,"#label_confirm","Please enter Confirm Password"),$("#form_password").val()!=$("#form_confirm").val()&&(a.push("Password and Confirm Password must be the same"),$("#label_password").attr("style",errorStyle),$("#label_confirm").attr("style",errorStyle)),a=CheckforNull("#form_ans_q1",a,"#label_ans_q1","Please enter answer for Security Question 1"),a=CheckforNull("#form_ans_q2",a,"#label_ans_q2","Please enter answer for Security Question 2"),a=CheckforNull("#form_first_name",a,"#label_firstname","Please enter First Name"),a=CheckforNull("#form_last_name",a,"#label_lastname","Please enter Last Name"),a=CheckforNullinSelect("#form_languages",a,"#label_languages","Please select at least 1 language"),a=CheckforNullandPhoneNumber("#form_cell_phone",a,"#label_cell_phone","Mobile Phone Number"),a=CheckforNull("#form_company_name",a,"#label_company_name","Please enter Company Name"),a=CheckforNull("#form_address_1",a,"#label_address_1","Please enter Street Address 1"),a=CheckforNull("#form_city",a,"#label_city","Please enter City"),a=CheckforNull("#form_state",a,"#label_state","Please enter State"),a=CheckforNull("#form_zip",a,"#label_zipcode","Please enter Zip Code"),a=CheckforNull("#form_country",a,"#label_country","Please enter Country"),a=CheckforNullandPhoneNumber("#form_phone",a,"#label_phone","Company Phone Number"),a=CheckforNullandSpace("#form_website",a,"#label_website","Please enter Company Website"));return a}function highlightErrorFields(a){for(var b=0;b<a.errors.length;b++)"userName"==a.errors[b].field&&$("#label_username").attr("style",errorStyle),"password"==a.errors[b].field&&($("#label_password").attr("style",errorStyle),$("#label_confirm").attr("style",errorStyle)),"confirmPassword"==a.errors[b].field&&($("#label_password").attr("style",errorStyle),$("#label_confirm").attr("style",errorStyle)),"securityQ1Value"==a.errors[b].field&&($("#label_q1").attr("style",errorStyle),$("#label_ans_q1").attr("style",errorStyle)),"securityQ2Value"==a.errors[b].field&&($("#label_q2").attr("style",errorStyle),$("#label_ans_q2").attr("style",errorStyle)),"firstName"==a.errors[b].field&&$("#label_firstname").attr("style",errorStyle),"lastName"==a.errors[b].field&&$("#label_lastname").attr("style",errorStyle),"street1"==a.errors[b].field&&$("#label_address_1").attr("style",errorStyle),"city"==a.errors[b].field&&$("#label_city").attr("style",errorStyle),"state"==a.errors[b].field&&$("#label_state").attr("style",errorStyle),"zip"==a.errors[b].field&&$("#label_zipcode").attr("style",errorStyle),"country"==a.errors[b].field&&$("#label_country").attr("style",errorStyle),"cell"==a.errors[b].field&&$("#label_cell_phone").attr("style",errorStyle),"workPhone"==a.errors[b].field&&$("#label_work_phone").attr("style",errorStyle),"workPhone1"==a.errors[b].field&&$("#label_brand_work_phone").attr("style",errorStyle),"langs"==a.errors[b].field&&$("#label_languages").attr("style",errorStyle),"skills"==a.errors[b].field&&$("#label_skills").attr("style",errorStyle),"fax"==a.errors[b].field&&$("#label_fax").attr("style",errorStyle)}function checkStrength(a,b){void 0==b&&(b="#result");void 0==a&&(a=document.getElementById("#form_password").val);var c=0,d=[!1,!1,!1,!1];if(8>a.length)return $(b).removeClass(),$(b).addClass("short"),d[0]=!1,"Password should be at least 8 characters long";7<a.length&&(d[0]=!0,c+=1);a.match(/([A-Z])/)&&(d[1]=!0,c+=1);a.match(/([a-zA-Z])/)&&a.match(/([0-9])/)&&(d[2]=!0,c+=1);a.match(/([!,%,&,@,#,$,^,*,?,_,~,-])/)&&(d[3]=!0,c+=1);a.match(/(.*[!,%,&,@,#,$,^,*,?,_,~,-].*[!,%,&,@,#,$,^,*,?,_,~,-])/)&&(d[3]=!0,c+=1);if(4>c)return c="",$(b).removeClass(),$(b).addClass("weak"),d[1]?d[2]?d[3]||(c+=" 1 special character"):c+=" 1 number":c+=" 1 capital.",""!=c?"Weak. Should contain "+c:"Weak.";if(4==c)return $(b).removeClass(),$(b).addClass("good"),"Good";$(b).removeClass();$(b).addClass("strong");return"Strong"}function logging(a,b){void 0==b&&(b="#000");basicConfig.debugMode&&($("#debug").css("display","block"),(void 0==a||""==a)&&$("#debug").append("Undefined or blank <br />"),$("#debug").append('<span style="color:'+b+'">'+a+"</span><br />"),basicConfig.writeLogToConsole&&console.log(a),$("#debug").scrollTop($("#debug")[0].scrollHeight))}function submitSeqPasswordForm(){var a=[];$("#label_resetPassword").removeAttr("style");$("#label_confirmPassword").removeAttr("style");$("#label_ans_q1").removeAttr("style");$("#label_ans_q2").removeAttr("style");0<$("#form_ans_q1").length&&(a=CheckforNull("#form_ans_q1",a,"#label_ans_q1","Please enter answer for Security Question 1"));0<$("#form_ans_q2").length&&(a=CheckforNull("#form_ans_q2",a,"#label_ans_q2","Please enter answer for Security Question 2"));0<$("#resetPassword").length&&(a=CheckforNull("#resetPassword",a,"#label_resetPassword","Please enter New Password"),a=CheckforContainSpace("#resetPassword",a,"#label_resetPassword","Please check that there are no spaces in New Password"));0<$("#confirmPassword").length&&(a=CheckforNull("#confirmPassword",a,"#label_confirmPassword","Please enter Confirm Password"),a=CheckforContainSpace("#confirmPassword",a,"#label_confirmPassword","Please check that there are no spaces in Confirm Password"));if(0<a.length){for(var b=[],c=0;c<a.length;c++)b.push(a[c]);buildPopupMsg({title:'Information <span style="#C30">!</span>',content:"Please enter data in the mandatory fields as highlighted in the screen and also displayed in the list:<br/>"+b.join("<br/>"),showOk:!0})}else $.ajax({url:$("#seqPasswordForm").attr("action"),type:"POST",data:$("#seqPasswordForm").serialize(),beforeSend:function(){buildPopupMsg({content:'<span style="color:blue;">Please wait...<span><br /><img src="/images/spinner_small.gif" style="margin-top:30px;"/>',title:"Please Wait",showOk:!1,closeByOverlay:!1,effect:!1})},success:function(a){if(a.hasError){for(var b=[],c=0;c<a.errors.length;c++)b.push(a.errors[c].defaultMessage),logging("Error field=>"+a.errors[c].field);$("#overlay").fadeOut("fast");buildPopupMsg({content:b.join("<br/>"),showOk:!0})}else a.setupPwd||void 0==a.setupPwd?(a="Password is updated successfully.<br /> Please use the new password to login. Thank you.",$("#loginPanel #password").val("")):a="Your security setting eastblished successfully.<br /> Thank you.",buildPopupMsg({content:'<span style="color:blue;">'+a+"<span>",title:"Update successfully",showOk:!0,closeByOverlay:!0,effect:!0,onOk:function(){closePopup("#popupContainer","#overlay");closePopupMsg()}})},error:function(){buildPopupMsg({content:"Our service is not available, please submit again. Thanks.",showOk:!0})}})}function setFocus(){setTimeout(function(){""!=$("#username").val()?$("#password").focus():$("#username").focus()},100);""!=$("#username").val()?$("#password").focus(function(){this.select()}):$("#username").focus(function(){this.select()})}function browserChecking(){var a=!0;if(basicConfig.browserChecking&&$.browser.msie){var b=$.browser.version.slice(0,$.browser.version.indexOf(".")),c=document.documentMode;logging("document mode=>"+c);b!=c?(buildPopupMsg({content:"ERROR:\nBrowser Mode and Document Mode do not match!\n\nBrowser Mode: IE"+b+".0\nDocument Mode: IE"+c+".0",showOk:!0,title:"Browser Checking Warning",showOverlay:!0}),a=!1):7>=b?(buildPopupMsg({content:"We detect your browser is IE "+b+" or lower. We support IE 8 and above. Thank you.",showOk:!0,title:"Browser Checking Warning",showOverlay:!0}),a=!1):7>=c&&(buildPopupMsg({content:"We detect the document mode of your browser is IE "+b+" or lower. We support the document mode of IE 8 and above. Thank you.",showOk:!0,title:"Browser Checking Warning",showOverlay:!0}),a=!1)}return a}function checkUserInput(){var a=!0;""==$("#username").val()||$("#username").val()==usernameValue||-1!=$("#username").val().search(" ")?(buildPopupMsg({content:usernameValue,title:"Username can not be empty",onShow:function(){setTimeout(function(){$("#error_button_ok").focus()},100)}}),a=!1):""==$("#password").val()||$("#password").val()==passwordValue?(buildPopupMsg({content:passwordValue,title:"Password can not be empty",onShow:function(){setTimeout(function(){$("#error_button_ok").focus()},100)}}),a=!1):-1!=$("#password").val().search(/\s/g)&&(buildPopupMsg({content:"Please check that there are no spaces in your password",title:"No spaces in password",onShow:function(){setTimeout(function(){$("#error_button_ok").focus()},100)}}),a=!1);return a}function doLogin(){var a=$("#form_login"),b=a.attr("action");logging(a.serialize());var c=new Date;$.ajax({url:b,type:"POST",data:a.serialize()+"&timezoneOffset="+c.getTimezoneOffset(),beforeSend:function(){buildPopupMsg({content:'<span style="color:blue;">Please wait, we will log you in....<span><br /><img src="/images/spinner_small.gif" style="margin-top:30px;"/>',title:"Please Wait",showOk:!1,closeByOverlay:!1,effect:!1})},error:function(a,b,c){logging(this.url+" is "+c);$("#overlay").fadeOut("fast")},success:function(a){logging("loading "+this.url+"complete");if(void 0==a.hasError)$("#overlay").fadeOut(),buildPopupMsg({title:'Information <span style="#C30">!</span>',content:"Sorry, our service is not available.<br />Please try again. Thank you.",showOk:!0});else if(a&&a.hasError){for(var b=[],c=0;c<a.errors.length;c++)"validateUser.auth.failed"==a.errors[c].code&&$("#loginPanel #password").val(""),b.push(a.errors[c].defaultMessage);$("#overlay").fadeOut();buildPopupMsg({title:'Information <span style="#C30">!</span>',content:b.join("<br/>"),showOk:!0})}else{var e;!0===a.termsExpired&&!0===a.membershipExpired&&logging("Do nothing");if(!0===a.needSetupSeqPassword)_gaq.push(["_trackEvent","login","setup security settings","setup security settings"]),closePopupMsg(),buildPopup({url:setupSeqPasswordPath});else if(!0===a.needSetupSeq)closePopupMsg(),buildPopup({url:setupSeqPasswordPath+"?setupSeq=true&setupPwd=false"});else if(!0===a.needSamples)_gaq.push(["_set","hitCallback",function(){clearTimeout(e);location.assign(submitSamplesPath+"?userId="+a.userId)}]),_gaq.push(["_trackEvent","login","examples required","examples required"]),e=setTimeout(function(){location.assign(submitSamplesPath+"?userId="+a.userId)},1e3);else if(!0===a.termsExpired)_gaq.push(["_trackEvent","login","terms and conditions expired","terms and conditions expired"]),closePopupMsg(),displayTermAndConditions(a.termsId);else if(!0===a.membershipExpired)_gaq.push(["_set","hitCallback",function(){clearTimeout(e);location.assign(updateMembershipPath+"?userId="+a.userId)}]),_gaq.push(["_trackEvent","login","membership expired","membership expired"]),e=setTimeout(function(){location.assign(updateMembershipPath+"?userId="+a.userId)},1e3);else{_gaq.push(["_set","hitCallback",function(){clearTimeout(e);$(location).attr("href",g)}]);_gaq.push(["_trackEvent","login","login to user console","login to user console"]);var g=consoleHomeUrl;e=setTimeout(function(){$(location).attr("href",g)},1e3)}}}})}function pwdChecker(a,b,c){""===a.val().replace(/ /g,"")&&""===b.val().replace(/ /g,"")?(c.removeClass("good"),c.html("Should match your password")):a.val()===b.val()?(c.addClass("good"),c.html("Matched")):(c.removeClass("good"),c.html("Not matched"))}function displayTermAndConditions(a){var b=termsUrl+"?termId="+a;$.ajax({url:b,type:"GET",beforeSend:function(){logging("loading "+b);$.browser.msie&&("8.0"==$.browser.version||"7.0"==$.browser.version)&&$("#overlay").css("filter","alpha(opacity=70)");$("#overlay").fadeIn("fast")},error:function(a,b,f){logging(this.url+" is "+f);$("#overlay").fadeOut("fast")},success:function(a){logging("loading "+this.url+"complete");!a||!a.hasError?($("#popupContainer").html(a),$("#terms_ok").css({"background-color":"#333",cursor:"default"}),showPopup({},function(){$("#termScrollbar").tinyscrollbar();$(".anchor").each(function(a){$(".rightArea .block:nth-child("+(a+1)+")").animate({top:$(this).position().top})})})):$(location).attr("href",consoleHomeUrl)}})}function loadSecurityPanel(){""==$("#email").val()?($("#nofify_email").html("Please enter your email"),$("#nofify_email").fadeIn()):-1!=$("#email").val().search(" ")?($("#nofify_email").html("It's not an invalid email format"),$("#nofify_email").fadeIn()):loadSecurityQuestionsData()}function loadSecurityQuestionsData(){var a=securityQuestionsUrl+"?userName="+$("#email").val();$.ajax({url:a,beforeSend:function(){logging("loading "+a)},error:function(a,c,d){logging(this.url+" is "+d);$("#overlay").fadeOut("fast")},success:function(a){logging("loading "+this.url+"complete");a&&(logging("result.hasError ->"+a.hasError),!0===a.hasError?a.noSeqSettings?$("#session_forget").fadeOut(function(){$("#reset_temp_password_failed").fadeIn()}):($("#nofify_email").html("Email address entered is invalid. Please try again."),$("#nofify_email").fadeIn()):a.noSeqSettings?$("#session_forget").fadeOut(function(){$("#reset_temp_password").fadeIn()}):($("#q1_id").attr("value",a.Q1Id),$("#q1_val").attr("value",a.Q1val),$("#q2_id").attr("value",a.Q2Id),$("#q2_val").attr("value",a.Q2val),$("#session_forget").fadeOut(function(){$("#session_security").fadeIn(function(){setTimeout(function(){$("#q1_ans").focus()},100);$("#q1_ans").focus(function(){this.select()})})})))}})}function submitSequrityQuestions(){var a=$("#forgotPwd").attr("action");logging("SUBMIT SEQ Q=>"+a);$.ajax({url:a,type:"POST",data:$("#forgotPwd").serialize(),beforeSend:function(){logging("loading "+a)},error:function(a,c,d){logging(this.url+" is "+d);$("#overlay").fadeOut("fast")},success:function(a){logging("loading "+this.url+"complete");!0==a.hasError?($("#notify_questions").html("Security answers entered do not match. Please try again."),$("#notify_questions").fadeIn()):$("#session_security").fadeOut(function(){$("#session_reset_password").fadeIn(function(){setTimeout(function(){$("#newPwd").focus()},100);$("#newPwd").focus(function(){this.select()})})})}})}function resetPassword(){var a=$("#reset_password").attr("action"),b=[];$("#label_new_pwd").removeAttr("style");$("#label_confirm_pwd").removeAttr("style");b=CheckforNull("#newPwd",b,"#label_new_pwd","New Password can not be empty.");b=CheckforContainSpace("#newPwd",b,"#label_new_pwd","Please check that there are no spaces in New Password.");b=CheckforNull("#confirmPwd",b,"#label_confirm_pwd","Confirm Password can not be empty.");b=CheckforContainSpace("#confirmPwd",b,"#label_confirm_pwd","Please check that there are no spaces in Confirm Password.");0<b.length?$("#notify_passw_mismatch").css("color","#000000").show().html(b.join("<br />")):($("#notify_passw_mismatch").removeAttr("style").html(""),$.ajax({url:a,type:"POST",data:$("#reset_password").serialize(),beforeSend:function(){logging("loading "+a)},error:function(a,b,f){logging(this.url+" is "+f);$("#overlay").fadeOut("fast")},success:function(a){logging("loading "+this.url+"complete");!1==a.hasError?$("#session_reset_password").fadeOut(function(){$("#reset_success").fadeIn(function(){setTimeout(function(){$("#close").focus()},100)});$("#loginPanel #password").val("")}):($("#notify_passw_mismatch").html("Your passwords do not match. Please try again."),$("#notify_passw_mismatch").fadeIn())}}))}function getCookie(a){a+="=";for(var b=document.cookie.split(";"),c=0;c<b.length;c++){var d=b[c].trim();if(0==d.indexOf(a))return d.substring(a.length,d.length).replace(/"/g,"")}return""}