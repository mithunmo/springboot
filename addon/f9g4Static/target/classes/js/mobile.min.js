var basicConfig={debugMode:!1,writeLogToConsole:!1,disableRightClick:!1,browserChecking:!1,mainboxSlideDuration:5e3,quotesSlideDuration:15e3},errorStyle="color:#FF0000";$(document).ready(function(){$(document).on("click","#submit",function(){$(".label").removeAttr("style");var a=checkInput();$("#form_accepted_termsId");$(".submit-result").addClass("show-border");0<a.length?$("#submitResult").html("Please complete the following required fields:<br/>"+a.join("<br/>")):submitRegForm()});$(document).on("keydown","input[type=password]",function(a){if(32==a.which)return!1});$(document).on("keyup","#form_password",function(){var a=checkStrength($("#form_password").val());$("#passwordRow").removeClass("hide");$("#result").html(a)});$(document).on("keyup","#form_username",function(){$("#usernameRow").removeClass("hide");""!==$(this).val().replace(/ /g,"")&&-1!=$(this).val().search(/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,6}$/)?$.ajax({url:usernameCheckPath+"?username="+$(this).val(),type:"GET",beforeSend:function(){$("#usernameChecked").addClass("loading")},success:function(a){$("#usernameChecked").removeClass("loading");$("#usernameChecked").removeClass("hide");!0===a.isAvailable?($("#usernameChecked").removeClass("invalid"),$(".username-check-result").removeClass("hide").addClass("hide"),$("#usernameCheckedMsg").css("color","blue").html("The email you provided is available")):($("#usernameChecked").removeClass("invalid").addClass("invalid"),$(".username-check-result").removeClass("hide"),$("#usernameCheckedMsg").css("color","#C30").html("The email you provided is already being used"))},error:function(){$("#usernameChecked").removeClass("loading");$("#usernameCheckedMsg").html("checking..")}}):($("#usernameChecked").removeClass("hide").removeClass("invalid").addClass("invalid"),$("#usernameCheckedMsg").css("color","#C30").html("Invalid email address"))});$("#form_education").trigger("change");$("#form_specialty").trigger("change");$(document).on("focus","input, select",function(){var a=$(".next-input-controller"),b=$(this).attr("tabindex")+1;void 0!=$(this).attr("skip-control")&&(b+=parseInt($(this).attr("skip-control")));a.attr("next-comp",b).removeClass("hide")});$(document).on("click",".next-input-controller",function(){var a=$(this).attr("next-comp");$("*[tabindex="+a+"]").focus()});$(document).on("click","#addOtherEducation",function(){addOtherToMS($(this),$("#form_education"))});$(document).on("click","#addOtherSpecialty",function(){addOtherToMS($(this),$("#form_specialty"))})});function addOtherToMS(a,b){var c=a.siblings(".ms-add-other-value"),d=$.trim(c.val()),f=$("<option />",{value:"0{"+d+"}",text:d,"data-text":d,"data-is-others":!0});d?(f.prop("selected",!0),c.val(""),b.prepend(f)):c.focus()}function submitRegForm(){logging("designer=>"+$("#form_reg_designer").length);logging("company=>"+$("#form_reg_company").length);var a=new Date,b,c;if(0<$("#form_reg_designer").length){b=$("#form_reg_designer").attr("action");c=$('#form_education option[data-is-others="true"]:selected');for(var d=$('#form_specialty option[data-is-others="true"]:selected'),f=[],e=0;e<c.length;e++)$(c[e]).val(0),f.push("otherEducation="+encodeURI($(c[e]).attr("data-text")));for(e=0;e<d.length;e++)$(d[e]).val(0),f.push("otherSpecialty="+encodeURI($(d[e]).attr("data-text")));c=$("#form_reg_designer").serialize()+"&"+f.join("&")}else 0<$("#form_reg_company").length&&(b=$("#form_reg_company").attr("action"),c=$("#form_reg_company").serialize());var g=$("#form_first_name").val(),h=$("#form_last_name").val(),j=$("#comp").val();$.ajax({url:b,type:"POST",data:c+"&timezoneOffset="+a.getTimezoneOffset(),beforeSend:function(){logging("loading "+b);$("#submitResult").html('please wait <img src="/images/spinner_small_wbg.gif" />')},error:function(a,b,c){logging(this.url+" is "+c);$("#overlay").fadeOut("fast")},success:function(a){logging("loading "+this.url+" complete");if(a&&a.hasError&&!0==a.hasError){var b=[];$(".label").removeAttr("style");for(var c=0;c<a.errors.length;c++)b.push(a.errors[c].defaultMessage),logging("Error field=>"+a.errors[c].field);highlightErrorFields(a);$("#submitResult").html("Please enter data in the mandatory fields as highlighted in the screen and also displayed in the list:<br/>"+b.join("<br/>"))}else{var d;j?(void 0!=_gaq&&_gaq.push(["_trackEvent","registration","registered successfully from mobile","company: "+$("#form_username").val(),a.userId]),$("#submitResult").html("Thanks for registering, we will get back to you shortly.")):($("#designer_name").text(g+" "+h),logging("Register Success UserId="+a.userId),logging(a),void 0!=a.userId?($("#reg_userid").val(a.userId),void 0!=_gaq&&(_gaq.push(["_set","hitCallback",function(){clearTimeout(d);location.assign(registrationResult)}]),_gaq.push(["_trackEvent","registration","registered successfully from mobile","designer: "+$("#form_username").val(),a.userId])),d=setTimeout(function(){$("#submitResult").html("Registered successfully.");location.assign(registrationResult)},1e3)):$("#submitResult").html("One of our back end system is currently unavailable. Please contact us. <br /> Thank you."))}}})}function checkInput(){var a=[],a=CheckforNullandSpace("#form_username",a,"#label_username","Please enter E-mail ID"),a=CheckforNull("#form_password",a,"#label_password","Please enter Password"),a=CheckforContainSpace("#form_password",a,"#label_password","Please check that there are no spaces in Password"),a=CheckforNull("#form_confirm",a,"#label_confirm","Please enter Confirm Password"),a=CheckforContainSpace("#form_confirm",a,"#label_confirm","Please check that there are no spaces in Confirm Password");$("#form_password").val()!=$("#form_confirm").val()&&(a.push("Password and Confirm Password must be the same"),$("#label_password").attr("style",errorStyle),$("#label_confirm").attr("style",errorStyle));a=CheckforNull("#form_first_name",a,"#label_firstname","Please enter First Name");a=CheckforNull("#form_last_name",a,"#label_lastname","Please enter Last Name");-2==$("#form_education").val()&&""===$("#form_education_other").val().replace(/ /g,"")&&($("#label_education").attr("style",errorStyle),a.push("Please enter your education detail."));-2==$("#form_specialty").val()&&""===$("#form_specialty_other").val().replace(/ /g,"")&&($("#label_specialty").attr("style",errorStyle),a.push("Please enter your area of specialty detail."));return a}function highlightErrorFields(a){for(var b=0;b<a.errors.length;b++)"userName"==a.errors[b].field&&$("#label_username").attr("style",errorStyle),"password"==a.errors[b].field&&($("#label_password").attr("style",errorStyle),$("#label_confirm").attr("style",errorStyle)),"confirmPassword"==a.errors[b].field&&($("#label_password").attr("style",errorStyle),$("#label_confirm").attr("style",errorStyle)),"securityQ1Value"==a.errors[b].field&&($("#label_q1").attr("style",errorStyle),$("#label_ans_q1").attr("style",errorStyle)),"securityQ2Value"==a.errors[b].field&&($("#label_q2").attr("style",errorStyle),$("#label_ans_q2").attr("style",errorStyle)),"firstName"==a.errors[b].field&&$("#label_firstname").attr("style",errorStyle),"lastName"==a.errors[b].field&&$("#label_lastname").attr("style",errorStyle),"street1"==a.errors[b].field&&$("#label_address_1").attr("style",errorStyle),"city"==a.errors[b].field&&$("#label_city").attr("style",errorStyle),"state"==a.errors[b].field&&$("#label_state").attr("style",errorStyle),"zip"==a.errors[b].field&&$("#label_zipcode").attr("style",errorStyle),"country"==a.errors[b].field&&$("#label_country").attr("style",errorStyle),"cell"==a.errors[b].field&&$("#label_cell_phone").attr("style",errorStyle),"workPhone"==a.errors[b].field&&$("#label_work_phone").attr("style",errorStyle),"workPhone1"==a.errors[b].field&&$("#label_brand_work_phone").attr("style",errorStyle),"langs"==a.errors[b].field&&$("#label_languages").attr("style",errorStyle),"skills"==a.errors[b].field&&$("#label_skills").attr("style",errorStyle),"fax"==a.errors[b].field&&$("#label_fax").attr("style",errorStyle)}function checkStrength(a,b){void 0==b&&(b="#result");void 0==a&&(a=document.getElementById("#form_password").val);var c=0,d=[!1,!1,!1,!1];if(8>a.length)return $(b).removeClass(),$(b).addClass("short"),d[0]=!1,"Password should be at least 8 characters long";7<a.length&&(d[0]=!0,c+=1);a.match(/([A-Z])/)&&(d[1]=!0,c+=1);a.match(/([a-zA-Z])/)&&a.match(/([0-9])/)&&(d[2]=!0,c+=1);a.match(/([!,%,&,@,#,$,^,*,?,_,~,-])/)&&(d[3]=!0,c+=1);a.match(/(.*[!,%,&,@,#,$,^,*,?,_,~,-].*[!,%,&,@,#,$,^,*,?,_,~,-])/)&&(d[3]=!0,c+=1);if(4>c)return c="",$(b).removeClass(),$(b).addClass("weak"),d[1]?d[2]?d[3]||(c+=" 1 special character"):c+=" 1 number":c+=" 1 capital.",""!=c?"Weak. Should contain "+c:"Weak.";if(4==c)return $(b).removeClass(),$(b).addClass("good"),"Good";$(b).removeClass();$(b).addClass("strong");return"Strong"}function logging(a,b){void 0==b&&(b="#000");basicConfig.debugMode&&($("#debug").css("display","block"),(void 0==a||""==a)&&$("#debug").append("Undefined or blank <br />"),$("#debug").append('<span style="color:'+b+'">'+a+"</span><br />"),basicConfig.writeLogToConsole&&console.log(a),$("#debug").scrollTop($("#debug")[0].scrollHeight))}