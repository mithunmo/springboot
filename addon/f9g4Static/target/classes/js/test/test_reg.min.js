var basicConfig={debugMode:!1,writeLogToConsole:!1,disableRightClick:!1},errorStyle="color:#FF0000";$(document).ready(function(){$(document).on("click","#save",function(){$(".label").removeAttr("style");var a=checkInput(),b=$("#form_terms").attr("checked");0<a.length?buildPopupMsg({content:"The fields need to be enter in the following fields which are already highlighted in correspond fields:<br/>"+a.join("<br/>")}):void 0==b?($(".label").removeAttr("style"),buildPopupMsg({content:"Please Read Terms and Conditions. Thank you."})):submitRegForm()});$(document).on("click","#cancel",function(){logging("cancel");$("form")[0].reset();$("#user_logo").html("")});$(document).on("click","#register",function(){logging("ok");location.assign(loginPage)});$("#read_terms").click(function(){displayLatestTermAndConditions(ResgistrationTermsPath)});$("#membership_ok").click(function(){closePopup()});$(document).on("click",".reg_success_ok",function(){$("#popupContainer").fadeOut("fast",function(){});$(".popup .notification").css("display","none");$("#popupContainer").removeAttr("style");isOpened=!1;location.assign(loginPage)});$(document).on("click","#terms_ok",function(){logging("click OK in terms");if("checked"==$("#terms_agree").attr("checked")){var a=$('input[name="termsId"]').val();closePopup();$("#form_terms").attr("checked","checked");$("#form_accepted_termsId").val(a)}else"checked"==$("#terms_decline").attr("checked")&&(closePopup(),$("#form_terms").removeAttr("checked"))});$(document).on("click","#pay",function(){logging("Pay click")});$(document).on("click","#upload_image",function(){logging("Upload Image");buildUploadPopup({url:uploadPicturesPath,mode:"LOGO",filetype:"ai",previewArea:"user_logo"})});$(document).on("upload_finished","body",function(a){$("#form_logo_image_url").val("/400x400/"+a.filename_400);$("#user_logo").html('<i></i><img src="/400x400/'+a.filename_400+'" />')});$("#form_terms").attr("disabled","disabled");$("#livechat").bind("click",function(){buildPopupMsg({content:'<div style="color:#0000CC; font-size:16px; width:100%; text-align:center;">We are implementing our live chat module, please call us at 1-800-550-0802.</div>',showOk:!0,title:"Live Chat"})});$(document).on("keyup","#form_password",function(){console.log("password keyup event");$("#result").html(checkStrength($("#form_password").val()))});$(document).on("keyup",function(){console.log("password keyup event");$("#result").html(checkStrength($("#form_password").val()))});$("#form_website").change(function(){/^http:\/\//.test(this.value)||(this.value="http://"+this.value)});$(document).on("submit","#form_membership_payment",function(){$("#form_membership_payment").prop("disabled",!0);$("#membership_payment").prop("disabled",!0);$("#paynowMask").css("z-index","10")})});function showCompRegMsg(a,b,d){var c;c='<div class="popup"><div class="header">';c=void 0==d||""==d?c+"Error":c+d;c+='<div class="error_close">X</div>';c+="</div>";c+='<div class="content" id="error">';c+='<div id="errorContent">';c+=a;c+="</div>";c+='<div class="buttonPanel" style="width:85%">';!0==b&&(c+='<div class="button reg_success_ok" id="reg_success_ok">Ok</div>');c+="</div>";c+="</div>";logging("Error DIV=>"+$("#error").length);0>=$("#error").length&&$("body").append('<div class="popupContainer" id="error"></div>');$("#error").html(c);0>=$("#error_overlay").length&&$("body").append('<div class="overlay" id="error_overlay"></div>');$.browser.msie&&("8.0"==$.browser.version||"7.0"==$.browser.version)&&$("#error_overlay").css("filter","alpha(opacity=70)");$("#error_overlay").fadeIn();showPopup({container:"#error"})}function displayLatestTermAndConditions(a){$.ajax({url:a,type:"GET",beforeSend:function(){logging("loading "+a);$.browser.msie&&("8.0"==$.browser.version||"7.0"==$.browser.version)&&$("#overlay").css("filter","alpha(opacity=70)");$("#overlay").fadeIn("fast")},error:function(a,d,c){logging(this.url+" is "+c);$("#overlay").fadeOut("fast")},success:function(a){logging("loading "+this.url+"complete");if(!a||!a.hasError)$("#popupContainer").html(a),$("#terms_ok").css({"background-color":"#333",cursor:"default"}),showPopup()},complete:function(){$("#termScrollbar").tinyscrollbar()}})}function displayMembership(a){$.ajax({url:a,type:"GET",beforeSend:function(){logging("loading "+a);$.browser.msie&&("8.0"==$.browser.version||"7.0"==$.browser.version)&&$("#overlay").css("filter","alpha(opacity=70)");$("#overlay").fadeIn("fast")},error:function(a,d,c){logging(this.url+" is "+c);$("#overlay").fadeOut("fast")},success:function(a){logging("loading "+this.url+"complete");$("#popupContainer").html(a);$("#terms_ok").css({"background-color":"#333",cursor:"default"});showPopup()}})}function submitRegForm(){logging("designer=>"+$("#form_reg_designer").length);logging("company=>"+$("#form_reg_company").length);var a,b;0<$("#form_reg_designer").length?(a=$("#form_reg_designer").attr("action"),b=$("#form_reg_designer").serialize()):0<$("#form_reg_company").length&&(a=$("#form_reg_company").attr("action"),b=$("#form_reg_company").serialize());var d=$("#form_first_name").val(),c=$("#form_last_name").val(),f=$("#comp").val();$.ajax({url:a,type:"POST",data:b,beforeSend:function(){logging("loading "+a);$.browser.msie&&("8.0"==$.browser.version||"7.0"==$.browser.version)&&$("#overlay").css("filter","alpha(opacity=70)");$("#overlay").fadeIn("fast")},error:function(a,b,c){logging(this.url+" is "+c);$("#overlay").fadeOut("fast")},success:function(a){logging("loading "+this.url+" complete");if(a&&a.hasError&&!0==a.hasError){var b=[];$(".label").removeAttr("style");for(var e=0;e<a.errors.length;e++)b.push(a.errors[e].defaultMessage),logging("Error field=>"+a.errors[e].field);highlightErrorFields(a);$("#overlay").fadeOut("fast");buildPopupMsg({content:"Please enter data in the mandatory fields as highlighted in the screen and also displayed in the list:<br/>"+b.join("<br/>"),showOk:!0})}else f?showCompRegMsg("Thanks for registering, we will get back to you shortly.",!0,"Registration ",null):($("#designer_name").text(d+" "+c),logging("Register Success UserId="+a.userId),$("#reg_userid").val(a.userId),location.assign(membershipUrl+"?userId="+a.userId))}})}function checkInput(){var a=[];-1!=location.pathname.search("designer")?(a=CheckforNullandSpace("#form_username",a,"#label_username","Please enter Username"),a=CheckforNullandSpace("#form_password",a,"#label_password","Please enter Password"),a=CheckforNullandSpace("#form_confirm",a,"#label_confirm","Please enter Confirm Password"),$("#form_password").val()!=$("#form_confirm").val()&&(a.push("Password and Confirm Password must be the same"),$("#label_password").attr("style",errorStyle),$("#label_confirm").attr("style",errorStyle)),a=CheckforNullandSpace("#form_ans_q1",a,"#label_ans_q1","Please enter answer for Security Question 1"),a=CheckforNullandSpace("#form_ans_q2",a,"#label_ans_q2","Please enter answer for Security Question 2"),a=CheckforNull("#form_first_name",a,"#label_firstname","Please enter First Name"),a=CheckforNull("#form_last_name",a,"#label_lastname","Please enter Last Name"),a=CheckforNull("#form_address_1",a,"#label_address_1","Please enter Street Address 1"),a=CheckforNull("#form_city",a,"#label_city","Please enter City"),a=CheckforNull("#form_state",a,"#label_state","Please enter State"),a=CheckforNullandNumber("#form_zipcode",a,"#label_zipcode","Please enter Zip Code"),a=CheckforNull("#form_country",a,"#label_country","Please enter Country"),a=CheckforNullandPhoneNumber("#form_cell_phone",a,"#label_cell_phone","Cell Phone Number"),a=CheckforNullinSelect("#form_languages",a,"#label_languages","Please select at least 1 language"),a=CheckforNull("#form_company_name",a,"#label_company_name","Please enter Company Name"),a=CheckforNullandPhoneNumber("#form_brand_work_phone",a,"#label_brand_work_phone","Brand Work Phone Number"),a=CheckforNullinSelect("#form_skills",a,"#label_skills","Please select at least 1 skill")):(a=CheckforNullandSpace("#form_username",a,"#label_username","Please enter Username"),a=CheckforNullandSpace("#form_password",a,"#label_password","Please enter Password"),a=CheckforNullandSpace("#form_confirm",a,"#label_confirm","Please enter Confirm Password"),$("#form_password").val()!=$("#form_confirm").val()&&(a.push("Password and Confirm Password must be the same"),$("#label_password").attr("style",errorStyle),$("#label_confirm").attr("style",errorStyle)),a=CheckforNullandSpace("#form_ans_q1",a,"#label_ans_q1","Please enter answer for Security Question 1"),a=CheckforNullandSpace("#form_ans_q2",a,"#label_ans_q2","Please enter answer for Security Question 2"),a=CheckforNull("#form_first_name",a,"#label_firstname","Please enter First Name"),a=CheckforNull("#form_last_name",a,"#label_lastname","Please enter Last Name"),a=CheckforNullinSelect("#form_languages",a,"#label_languages","Please select at least 1 language"),a=CheckforNullandPhoneNumber("#form_cell_phone",a,"#label_cell_phone","Cell Phone Number"),a=CheckforNull("#form_company_name",a,"#label_company_name","Please enter Company Name"),a=CheckforNull("#form_address_1",a,"#label_address_1","Please enter Street Address 1"),a=CheckforNull("#form_city",a,"#label_city","Please enter City"),a=CheckforNull("#form_state",a,"#label_state","Please enter State"),a=CheckforNullandNumber("#form_zip",a,"#label_zipcode","Please enter Zip Code"),a=CheckforNull("#form_country",a,"#label_country","Please enter Country"),a=CheckforNullandPhoneNumber("#form_phone",a,"#label_phone","Compnay Phone Number"),a=CheckforNullandSpace("#form_website",a,"#label_website","Please enter comapny Website"));return a}function highlightErrorFields(a){for(var b=0;b<a.errors.length;b++)"userName"==a.errors[b].field&&$("#label_username").attr("style",errorStyle),"password"==a.errors[b].field&&($("#label_password").attr("style",errorStyle),$("#label_confirm").attr("style",errorStyle)),"confirmPassword"==a.errors[b].field&&($("#label_password").attr("style",errorStyle),$("#label_confirm").attr("style",errorStyle)),"securityQ1Value"==a.errors[b].field&&($("#label_q1").attr("style",errorStyle),$("#label_ans_q1").attr("style",errorStyle)),"securityQ2Value"==a.errors[b].field&&($("#label_q2").attr("style",errorStyle),$("#label_ans_q2").attr("style",errorStyle)),"firstName"==a.errors[b].field&&$("#label_firstname").attr("style",errorStyle),"lastName"==a.errors[b].field&&$("#label_lastname").attr("style",errorStyle),"street1"==a.errors[b].field&&$("#label_address_1").attr("style",errorStyle),"city"==a.errors[b].field&&$("#label_city").attr("style",errorStyle),"state"==a.errors[b].field&&$("#label_state").attr("style",errorStyle),"zip"==a.errors[b].field&&$("#label_zipcode").attr("style",errorStyle),"country"==a.errors[b].field&&$("#label_country").attr("style",errorStyle),"cell"==a.errors[b].field&&$("#label_cell_phone").attr("style",errorStyle),"workPhone"==a.errors[b].field&&$("#label_work_phone").attr("style",errorStyle),"workPhone1"==a.errors[b].field&&$("#label_brand_work_phone").attr("style",errorStyle),"langs"==a.errors[b].field&&$("#label_languages").attr("style",errorStyle),"skills"==a.errors[b].field&&$("#label_skills").attr("style",errorStyle),"fax"==a.errors[b].field&&$("#label_fax").attr("style",errorStyle)}function checkStrength(a){void 0==a&&(a=document.getElementById("#form_password").val);var b=0,d=[!1,!1,!1,!1];if(6>a.length)return $("#result").removeClass(),$("#result").addClass("short"),d[0]=!1,"Password needs to contain at least 6 amount of characters";7<a.length&&(d[0]=!0,b+=1);a.match(/([A-Z])/)&&(d[1]=!0,b+=1);a.match(/([a-zA-Z])/)&&a.match(/([0-9])/)&&(d[2]=!0,b+=1);a.match(/([!,%,&,@,#,$,^,*,?,_,~,-])/)&&(d[3]=!0,b+=1);a.match(/(.*[!,%,&,@,#,$,^,*,?,_,~,-].*[!,%,&,@,#,$,^,*,?,_,~,-])/)&&(d[3]=!0,b+=1);if(4>b)return a="",$("#result").removeClass(),$("#result").addClass("weak"),d[1]?d[2]?d[3]||(a+=" 1 special character"):a+=" 1 number":a+=" 1 capital.",""!=a?"Weak. Should contain "+a:"Weak.";if(4==b)return $("#result").removeClass(),$("#result").addClass("good"),"Good";$("#result").removeClass();$("#result").addClass("strong");return"Strong"}function logging(a,b){void 0==b&&(b="#000");basicConfig.debugMode&&($("#debug").css("display","block"),(void 0==a||""==a)&&$("#debug").append("Undefined or blank <br />"),$("#debug").append('<span style="color:'+b+'">'+a+"</span><br />"),basicConfig.writeLogToConsole&&console.log(a),$("#debug").scrollTop($("#debug")[0].scrollHeight))}